{"remainingRequest":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/components/EditDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/components/EditDialog.vue","mtime":1638860012010},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2x4L2dvL3NyYy9naXRodWIuY29tL2Fuc2libGUtc2VtYXBob3JlL3NlbWFwaG9yZS93ZWIyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEV2ZW50QnVzIGZyb20gJ0AvZXZlbnQtYnVzJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBwb3NpdGlvbjogU3RyaW5nLAogICAgdGl0bGU6IFN0cmluZywKICAgIHNhdmVCdXR0b25UZXh0OiBTdHJpbmcsCiAgICB2YWx1ZTogQm9vbGVhbiwKICAgIG1heFdpZHRoOiBOdW1iZXIsCiAgICBldmVudE5hbWU6IFN0cmluZywKICAgIGhpZGVCdXR0b25zOiBCb29sZWFuCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgbmVlZFNhdmU6IGZhbHNlLAogICAgICBuZWVkUmVzZXQ6IGZhbHNlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGRpYWxvZzogZnVuY3Rpb24gZGlhbG9nKHZhbCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWwpOwoKICAgICAgICAgICAgICAgIF90aGlzLm5lZWRSZXNldCA9IHZhbDsKCiAgICAgICAgICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgX3RoaXMuaGFuZGxlRXNjYXBlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgX3RoaXMuaGFuZGxlRXNjYXBlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh2YWwpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLmRpYWxvZyA9IHZhbDsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoZSkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLmNsZWFyRmxhZ3MoKTsKCiAgICAgIGlmIChlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnc2F2ZScsIGUpOwoKICAgICAgICBpZiAodGhpcy5ldmVudE5hbWUpIHsKICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KHRoaXMuZXZlbnROYW1lLCBlKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICB9LAogICAgY2xlYXJGbGFnczogZnVuY3Rpb24gY2xlYXJGbGFncygpIHsKICAgICAgdGhpcy5uZWVkU2F2ZSA9IGZhbHNlOwogICAgICB0aGlzLm5lZWRSZXNldCA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZUVzY2FwZTogZnVuY3Rpb24gaGFuZGxlRXNjYXBlKGV2KSB7CiAgICAgIGlmIChldi5rZXkgPT09ICdFc2NhcGUnICYmIHRoaXMuZGlhbG9nICE9PSBmYWxzZSkgewogICAgICAgIHRoaXMuY2xvc2UoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["EditDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,OAAA,QAAA,MAAA,aAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA,MADA;AAEA,IAAA,KAAA,EAAA,MAFA;AAGA,IAAA,cAAA,EAAA,MAHA;AAIA,IAAA,KAAA,EAAA,OAJA;AAKA,IAAA,QAAA,EAAA,MALA;AAMA,IAAA,SAAA,EAAA,MANA;AAOA,IAAA,WAAA,EAAA;AAPA,GADA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,SAAA,EAAA;AAHA,KAAA;AAKA,GAjBA;AAmBA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,GADA,EACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,KAAA,CAAA,OAAA,EAAA,GAAA;;AACA,gBAAA,KAAA,CAAA,SAAA,GAAA,GAAA;;AACA,oBAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,gBAAA,CAAA,SAAA,EAAA,KAAA,CAAA,YAAA;AACA,iBAFA,MAEA;AACA,kBAAA,MAAA,CAAA,mBAAA,CAAA,SAAA,EAAA,KAAA,CAAA,YAAA;AACA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KATA;AAWA,IAAA,KAXA,iBAWA,GAXA,EAWA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,MAAA,GAAA,GAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAbA,GAnBA;AAmCA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,iBACA,CADA,EACA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,WAAA,UAAA;;AACA,UAAA,CAAA,EAAA;AACA,aAAA,KAAA,CAAA,MAAA,EAAA,CAAA;;AACA,YAAA,KAAA,SAAA,EAAA;AACA,UAAA,QAAA,CAAA,KAAA,CAAA,KAAA,SAAA,EAAA,CAAA;AACA;AACA;;AACA,WAAA,KAAA,CAAA,OAAA;AACA,KAXA;AAaA,IAAA,UAbA,wBAaA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,KAhBA;AAkBA,IAAA,YAlBA,wBAkBA,EAlBA,EAkBA;AACA,UAAA,EAAA,CAAA,GAAA,KAAA,QAAA,IAAA,KAAA,MAAA,KAAA,KAAA,EAAA;AACA,aAAA,KAAA;AACA;AACA;AAtBA;AAnCA,CAAA","sourcesContent":["<!--\nModal dialog which contains slot \"form\" and two buttons (\"Cancel\" and \"OK\").\nShould be used to wrap forms which need to be displayed in modal dialog.\nCan use used in tandem with ItemFormBase.js. See KeyForm.vue for example.\n-->\n<template xmlns:v-slot=\"http://www.w3.org/1999/XSL/Transform\">\n  <v-dialog\n    v-model=\"dialog\"\n    :max-width=\"maxWidth || 400\"\n    persistent\n    :transition=\"false\"\n    :content-class=\"'item-dialog item-dialog--' + position\"\n  >\n    <v-card>\n      <v-card-title>\n        <slot name=\"title\">{{ title }}</slot>\n      </v-card-title>\n\n      <v-card-text class=\"pb-0\">\n        <slot\n          name=\"form\"\n          :onSave=\"close\"\n          :onError=\"clearFlags\"\n          :needSave=\"needSave\"\n          :needReset=\"needReset\"\n        ></slot>\n      </v-card-text>\n\n      <v-card-actions v-if=\"!hideButtons\">\n        <v-spacer></v-spacer>\n\n        <v-btn\n          color=\"blue darken-1\"\n          text\n          @click=\"close()\"\n        >\n          取消\n        </v-btn>\n\n        <v-btn\n          color=\"blue darken-1\"\n          text\n          @click=\"needSave = true\"\n        >\n          {{ saveButtonText }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n<style lang=\"scss\">\n  .item-dialog--top {\n    align-self: flex-start;\n  }\n  .item-dialog--center {\n  }\n</style>\n<script>\n\nimport EventBus from '@/event-bus';\n\nexport default {\n  props: {\n    position: String,\n    title: String,\n    saveButtonText: String,\n    value: Boolean,\n    maxWidth: Number,\n    eventName: String,\n    hideButtons: Boolean,\n  },\n\n  data() {\n    return {\n      dialog: false,\n      needSave: false,\n      needReset: false,\n    };\n  },\n\n  watch: {\n    async dialog(val) {\n      this.$emit('input', val);\n      this.needReset = val;\n      if (val) {\n        window.addEventListener('keydown', this.handleEscape);\n      } else {\n        window.removeEventListener('keydown', this.handleEscape);\n      }\n    },\n\n    async value(val) {\n      this.dialog = val;\n    },\n  },\n\n  methods: {\n    close(e) {\n      this.dialog = false;\n      this.clearFlags();\n      if (e) {\n        this.$emit('save', e);\n        if (this.eventName) {\n          EventBus.$emit(this.eventName, e);\n        }\n      }\n      this.$emit('close');\n    },\n\n    clearFlags() {\n      this.needSave = false;\n      this.needReset = false;\n    },\n\n    handleEscape(ev) {\n      if (ev.key === 'Escape' && this.dialog !== false) {\n        this.close();\n      }\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/components"}]}