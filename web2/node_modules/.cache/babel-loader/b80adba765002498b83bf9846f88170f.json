{"remainingRequest":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/eslint-loader/index.js??ref--13-0!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/lib/Listenable.js","dependencies":[{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/lib/Listenable.js","mtime":1638779901602},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvbHgvZ28vc3JjL2dpdGh1Yi5jb20vYW5zaWJsZS1zZW1hcGhvcmUvc2VtYXBob3JlL3dlYjIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvbHgvZ28vc3JjL2dpdGh1Yi5jb20vYW5zaWJsZS1zZW1hcGhvcmUvc2VtYXBob3JlL3dlYjIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKCnZhciBMaXN0ZW5hYmxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBMaXN0ZW5hYmxlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpc3RlbmFibGUpOwoKICAgIHRoaXMubGlzdGVuZXJzID0ge307CiAgfQoKICBfY3JlYXRlQ2xhc3MoTGlzdGVuYWJsZSwgW3sKICAgIGtleTogImFkZExpc3RlbmVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRMaXN0ZW5lcihjYWxsYmFjaykgewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3ltYm9sLWRlc2NyaXB0aW9uCiAgICAgIHZhciBpZCA9IFN5bWJvbCgpOwogICAgICB0aGlzLmxpc3RlbmVyc1tpZF0gPSBjYWxsYmFjazsKICAgICAgcmV0dXJuIGlkOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbW92ZUxpc3RlbmVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihpZCkgewogICAgICBpZiAodGhpcy5saXN0ZW5lcnNbaWRdID09IG51bGwpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyc1tpZF07CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogImNhbGxMaXN0ZW5lcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGxMaXN0ZW5lcnMoZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0aGlzLmxpc3RlbmVycykuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsKICAgICAgICB2YXIgbGlzdGVuZXIgPSBfdGhpcy5saXN0ZW5lcnNbaWRdOwogICAgICAgIGxpc3RlbmVyKGRhdGEpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNMaXN0ZW5lcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0xpc3RlbmVycygpIHsKICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubGlzdGVuZXJzKS5sZW5ndGggPiAwOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIExpc3RlbmFibGU7Cn0oKTsKCmV4cG9ydCB7IExpc3RlbmFibGUgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/lib/Listenable.js"],"names":["Listenable","listeners","callback","id","Symbol","data","Object","getOwnPropertySymbols","forEach","listener","keys","length"],"mappings":";;;;;;;;;IAAqBA,U;AACnB,wBAAc;AAAA;;AACZ,SAAKC,SAAL,GAAiB,EAAjB;AACD;;;;gCAEWC,Q,EAAU;AACpB;AACA,UAAMC,EAAE,GAAGC,MAAM,EAAjB;AACA,WAAKH,SAAL,CAAeE,EAAf,IAAqBD,QAArB;AACA,aAAOC,EAAP;AACD;;;mCAEcA,E,EAAI;AACjB,UAAI,KAAKF,SAAL,CAAeE,EAAf,KAAsB,IAA1B,EAAgC;AAC9B,eAAO,KAAP;AACD;;AACD,aAAO,KAAKF,SAAL,CAAeE,EAAf,CAAP;AACA,aAAO,IAAP;AACD;;;kCAEaE,I,EAAM;AAAA;;AAClBC,MAAAA,MAAM,CAACC,qBAAP,CAA6B,KAAKN,SAAlC,EAA6CO,OAA7C,CAAqD,UAACL,EAAD,EAAQ;AAC3D,YAAMM,QAAQ,GAAG,KAAI,CAACR,SAAL,CAAeE,EAAf,CAAjB;AACAM,QAAAA,QAAQ,CAACJ,IAAD,CAAR;AACD,OAHD;AAID;;;mCAEc;AACb,aAAOC,MAAM,CAACI,IAAP,CAAY,KAAKT,SAAjB,EAA4BU,MAA5B,GAAqC,CAA5C;AACD;;;;;;SA7BkBX,U","sourcesContent":["export default class Listenable {\n  constructor() {\n    this.listeners = {};\n  }\n\n  addListener(callback) {\n    // eslint-disable-next-line symbol-description\n    const id = Symbol();\n    this.listeners[id] = callback;\n    return id;\n  }\n\n  removeListener(id) {\n    if (this.listeners[id] == null) {\n      return false;\n    }\n    delete this.listeners[id];\n    return true;\n  }\n\n  callListeners(data) {\n    Object.getOwnPropertySymbols(this.listeners).forEach((id) => {\n      const listener = this.listeners[id];\n      listener(data);\n    });\n  }\n\n  hasListeners() {\n    return Object.keys(this.listeners).length > 0;\n  }\n}\n"]}]}