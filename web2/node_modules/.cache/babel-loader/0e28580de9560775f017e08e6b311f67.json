{"remainingRequest":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/components/InventoryForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/components/InventoryForm.vue","mtime":1638779901599},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbHgvZ28vc3JjL2dpdGh1Yi5jb20vYW5zaWJsZS1zZW1hcGhvcmUvc2VtYXBob3JlL3dlYjIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzLGltcG9ydC9leHRlbnNpb25zICovCmltcG9ydCBJdGVtRm9ybUJhc2UgZnJvbSAnQC9jb21wb25lbnRzL0l0ZW1Gb3JtQmFzZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IGNvZGVtaXJyb3IgfSBmcm9tICd2dWUtY29kZW1pcnJvcic7CmltcG9ydCAnY29kZW1pcnJvci9saWIvY29kZW1pcnJvci5jc3MnOwppbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS92dWUvdnVlLmpzJzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2Rpc3BsYXkvcGxhY2Vob2xkZXIuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbSXRlbUZvcm1CYXNlXSwKICBjb21wb25lbnRzOiB7CiAgICBjb2RlbWlycm9yOiBjb2RlbWlycm9yCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY21PcHRpb25zOiB7CiAgICAgICAgdGFiU2l6ZTogMiwKICAgICAgICBtb2RlOiAndGV4dC94LWluaScsCiAgICAgICAgbGluZU51bWJlcnM6IHRydWUsCiAgICAgICAgbGluZTogdHJ1ZSwKICAgICAgICBsaW50OiB0cnVlLAogICAgICAgIGluZGVudFdpdGhUYWJzOiBmYWxzZQogICAgICB9LAogICAgICBrZXlzOiBudWxsLAogICAgICBpbnZlbnRvcnlUeXBlczogW3sKICAgICAgICBpZDogJ3N0YXRpYycsCiAgICAgICAgbmFtZTogJ1N0YXRpYycKICAgICAgfSwgewogICAgICAgIGlkOiAnZmlsZScsCiAgICAgICAgbmFtZTogJ0ZpbGUnCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxvZ2luUGFzc3dvcmRLZXlzOiBmdW5jdGlvbiBsb2dpblBhc3N3b3JkS2V5cygpIHsKICAgICAgaWYgKHRoaXMua2V5cyA9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmtleXMuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4ga2V5LnR5cGUgPT09ICdsb2dpbl9wYXNzd29yZCc7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBheGlvcyh7CiAgICAgICAgICAgICAgICBrZXlzOiAnZ2V0JywKICAgICAgICAgICAgICAgIHVybDogIi9hcGkvcHJvamVjdC8iLmNvbmNhdChfdGhpcy5wcm9qZWN0SWQsICIva2V5cyIpLAogICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfdGhpcy5rZXlzID0gX2NvbnRleHQuc2VudC5kYXRhOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0SXRlbXNVcmw6IGZ1bmN0aW9uIGdldEl0ZW1zVXJsKCkgewogICAgICByZXR1cm4gIi9hcGkvcHJvamVjdC8iLmNvbmNhdCh0aGlzLnByb2plY3RJZCwgIi9pbnZlbnRvcnkiKTsKICAgIH0sCiAgICBnZXRTaW5nbGVJdGVtVXJsOiBmdW5jdGlvbiBnZXRTaW5nbGVJdGVtVXJsKCkgewogICAgICByZXR1cm4gIi9hcGkvcHJvamVjdC8iLmNvbmNhdCh0aGlzLnByb2plY3RJZCwgIi9pbnZlbnRvcnkvIikuY29uY2F0KHRoaXMuaXRlbUlkKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["InventoryForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AAEA,OAAA,YAAA,MAAA,2BAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,SAAA,UAAA,QAAA,gBAAA;AACA,OAAA,+BAAA;AACA,OAAA,4BAAA;AACA,OAAA,yCAAA;AAEA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,YAAA,CADA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GAHA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA,YAFA;AAGA,QAAA,WAAA,EAAA,IAHA;AAIA,QAAA,IAAA,EAAA,IAJA;AAKA,QAAA,IAAA,EAAA,IALA;AAMA,QAAA,cAAA,EAAA;AANA,OADA;AASA,MAAA,IAAA,EAAA,IATA;AAUA,MAAA,cAAA,EAAA,CAAA;AACA,QAAA,EAAA,EAAA,QADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA,EAGA;AACA,QAAA,EAAA,EAAA,MADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAHA;AAVA,KAAA;AAkBA,GA1BA;AA4BA,EAAA,QAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,UAAA,KAAA,IAAA,IAAA,IAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,aAAA,KAAA,IAAA,CAAA,MAAA,CAAA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,IAAA,KAAA,gBAAA;AAAA,OAAA,CAAA;AACA;AANA,GA5BA;AAqCA,EAAA,OArCA,qBAqCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA;AACA,gBAAA,IAAA,EAAA,KADA;AAEA,gBAAA,GAAA,yBAAA,KAAA,CAAA,SAAA,UAFA;AAGA,gBAAA,YAAA,EAAA;AAHA,eAAA,CADA;;AAAA;AACA,cAAA,KAAA,CAAA,IADA,iBAKA,IALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,GA3CA;AA6CA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,oCAAA,KAAA,SAAA;AACA,KAHA;AAIA,IAAA,gBAJA,8BAIA;AACA,oCAAA,KAAA,SAAA,wBAAA,KAAA,MAAA;AACA;AANA;AA7CA,CAAA","sourcesContent":["<template>\n  <v-form\n    ref=\"form\"\n    lazy-validation\n    v-model=\"formValid\"\n    v-if=\"item != null && keys != null\"\n  >\n    <v-alert\n      :value=\"formError\"\n      color=\"error\"\n      class=\"pb-2\"\n    >{{ formError }}</v-alert>\n\n    <v-text-field\n      v-model=\"item.name\"\n      label=\"Name\"\n      :rules=\"[v => !!v || 'Name is required']\"\n      required\n      :disabled=\"formSaving\"\n    ></v-text-field>\n\n    <v-select\n      v-model=\"item.ssh_key_id\"\n      label=\"User Credentials\"\n      :items=\"keys\"\n      item-value=\"id\"\n      item-text=\"name\"\n      :rules=\"[v => !!v || 'User Credentials is required']\"\n      required\n      :disabled=\"formSaving\"\n    ></v-select>\n\n    <v-select\n        v-model=\"item.become_key_id\"\n        label=\"Sudo Credentials (Optional)\"\n        clearable\n        :items=\"loginPasswordKeys\"\n        item-value=\"id\"\n        item-text=\"name\"\n        :disabled=\"formSaving\"\n    ></v-select>\n\n    <v-select\n      v-model=\"item.type\"\n      label=\"Type\"\n      :rules=\"[v => !!v || 'Type is required']\"\n      :items=\"inventoryTypes\"\n      item-value=\"id\"\n      item-text=\"name\"\n      required\n      :disabled=\"formSaving\"\n    ></v-select>\n\n    <v-text-field\n      v-model=\"item.inventory\"\n      label=\"Path to Inventory file\"\n      :rules=\"[v => !!v || 'Path to Inventory file is required']\"\n      required\n      :disabled=\"formSaving\"\n      v-if=\"item.type === 'file'\"\n    ></v-text-field>\n\n    <codemirror\n        :style=\"{ border: '1px solid lightgray' }\"\n        v-model=\"item.inventory\"\n        :options=\"cmOptions\"\n        v-if=\"item.type === 'static'\"\n        placeholder=\"Enter inventory...\"\n    />\n\n    <v-alert\n        dense\n        text\n        class=\"mt-4\"\n        type=\"info\"\n        v-if=\"item.type === 'static'\"\n    >\n      Static inventory example:\n      <pre style=\"font-size: 14px;\">[website]\n172.18.8.40\n172.18.8.41</pre>\n    </v-alert>\n  </v-form>\n</template>\n<style>\n.CodeMirror {\n  height: 200px !important;\n}\n</style>\n<script>\n/* eslint-disable import/no-extraneous-dependencies,import/extensions */\n\nimport ItemFormBase from '@/components/ItemFormBase';\nimport axios from 'axios';\n\nimport { codemirror } from 'vue-codemirror';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/mode/vue/vue.js';\nimport 'codemirror/addon/display/placeholder.js';\n\nexport default {\n  mixins: [ItemFormBase],\n\n  components: {\n    codemirror,\n  },\n\n  data() {\n    return {\n      cmOptions: {\n        tabSize: 2,\n        mode: 'text/x-ini',\n        lineNumbers: true,\n        line: true,\n        lint: true,\n        indentWithTabs: false,\n      },\n      keys: null,\n      inventoryTypes: [{\n        id: 'static',\n        name: 'Static',\n      }, {\n        id: 'file',\n        name: 'File',\n      }],\n    };\n  },\n\n  computed: {\n    loginPasswordKeys() {\n      if (this.keys == null) {\n        return null;\n      }\n      return this.keys.filter((key) => key.type === 'login_password');\n    },\n  },\n\n  async created() {\n    this.keys = (await axios({\n      keys: 'get',\n      url: `/api/project/${this.projectId}/keys`,\n      responseType: 'json',\n    })).data;\n  },\n\n  methods: {\n    getItemsUrl() {\n      return `/api/project/${this.projectId}/inventory`;\n    },\n    getSingleItemUrl() {\n      return `/api/project/${this.projectId}/inventory/${this.itemId}`;\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/components"}]}