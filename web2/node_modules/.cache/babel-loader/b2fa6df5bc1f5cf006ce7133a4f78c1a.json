{"remainingRequest":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/components/IndeterminateProgressCircular.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/components/IndeterminateProgressCircular.vue","mtime":1638779901599},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvbHgvZ28vc3JjL2dpdGh1Yi5jb20vYW5zaWJsZS1zZW1hcGhvcmUvc2VtYXBob3JlL3dlYjIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvbHgvZ28vc3JjL2dpdGh1Yi5jb20vYW5zaWJsZS1zZW1hcGhvcmUvc2VtYXBob3JlL3dlYjIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9nZXQgZnJvbSAiL1VzZXJzL2x4L2dvL3NyYy9naXRodWIuY29tL2Fuc2libGUtc2VtYXBob3JlL3NlbWFwaG9yZS93ZWIyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXQiOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIi9Vc2Vycy9seC9nby9zcmMvZ2l0aHViLmNvbS9hbnNpYmxlLXNlbWFwaG9yZS9zZW1hcGhvcmUvd2ViMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9seC9nby9zcmMvZ2l0aHViLmNvbS9hbnNpYmxlLXNlbWFwaG9yZS9zZW1hcGhvcmUvd2ViMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9seC9nby9zcmMvZ2l0aHViLmNvbS9hbnNpYmxlLXNlbWFwaG9yZS9zZW1hcGhvcmUvd2ViMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTGlzdGVuYWJsZSBmcm9tICdAL2xpYi9MaXN0ZW5hYmxlJzsKCnZhciBJbmRldGVybWluYXRlVGltZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9MaXN0ZW5hYmxlKSB7CiAgX2luaGVyaXRzKEluZGV0ZXJtaW5hdGVUaW1lciwgX0xpc3RlbmFibGUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEluZGV0ZXJtaW5hdGVUaW1lcik7CgogIGZ1bmN0aW9uIEluZGV0ZXJtaW5hdGVUaW1lcigpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5kZXRlcm1pbmF0ZVRpbWVyKTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpOwogICAgX3RoaXMuZGlyZWN0aW9uID0gMTsKICAgIF90aGlzLnZhbHVlID0gMDsKICAgIF90aGlzLnJvdGF0ZSA9IDA7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoSW5kZXRlcm1pbmF0ZVRpbWVyLCBbewogICAga2V5OiAic3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgICB2YXIgU1RFUCA9IDE7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgc2VsZi52YWx1ZVRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChzZWxmLmRpcmVjdGlvbiA9PT0gMSAmJiBzZWxmLnZhbHVlID49IDEwMCkgewogICAgICAgICAgc2VsZi5kaXJlY3Rpb24gPSAtMTsKICAgICAgICB9IGVsc2UgaWYgKHNlbGYuZGlyZWN0aW9uID09PSAtMSAmJiBzZWxmLnZhbHVlIDw9IDApIHsKICAgICAgICAgIHNlbGYuZGlyZWN0aW9uID0gMTsKICAgICAgICB9CgogICAgICAgIGlmIChzZWxmLmRpcmVjdGlvbiA9PT0gMSkgewogICAgICAgICAgc2VsZi5yb3RhdGUgKz0gU1RFUDsKICAgICAgICAgIHNlbGYudmFsdWUgKz0gU1RFUDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VsZi5yb3RhdGUgKz0gU1RFUCAqIDU7CiAgICAgICAgICBzZWxmLnZhbHVlICs9IC1TVEVQOwogICAgICAgIH0KCiAgICAgICAgaWYgKHNlbGYucm90YXRlID4gMzYwKSB7CiAgICAgICAgICBzZWxmLnJvdGF0ZSAlPSAzNjA7CiAgICAgICAgfQoKICAgICAgICBzZWxmLmNhbGxMaXN0ZW5lcnMoewogICAgICAgICAgdmFsdWU6IHNlbGYudmFsdWUsCiAgICAgICAgICByb3RhdGU6IHNlbGYucm90YXRlCiAgICAgICAgfSk7CiAgICAgIH0sIDUwKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdG9wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wKCkgewogICAgICBjbGVhckludGVydmFsKHRoaXMudmFsdWVUaW1lcik7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkTGlzdGVuZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7CiAgICAgIGlmICghdGhpcy5oYXNMaXN0ZW5lcnMoKSkgewogICAgICAgIHRoaXMuc3RhcnQoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIF9nZXQoX2dldFByb3RvdHlwZU9mKEluZGV0ZXJtaW5hdGVUaW1lci5wcm90b3R5cGUpLCAiYWRkTGlzdGVuZXIiLCB0aGlzKS5jYWxsKHRoaXMsIGNhbGxiYWNrKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW1vdmVMaXN0ZW5lciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoaWQpIHsKICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoSW5kZXRlcm1pbmF0ZVRpbWVyLnByb3RvdHlwZSksICJyZW1vdmVMaXN0ZW5lciIsIHRoaXMpLmNhbGwodGhpcywgaWQpOwoKICAgICAgaWYgKCF0aGlzLmhhc0xpc3RlbmVycygpKSB7CiAgICAgICAgdGhpcy5zdG9wKCk7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBJbmRldGVybWluYXRlVGltZXI7Cn0oTGlzdGVuYWJsZSk7Cgp2YXIgaW5kZXRlcm1pbmF0ZVRpbWVyID0gbmV3IEluZGV0ZXJtaW5hdGVUaW1lcigpOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbHVlOiBudWxsLAogICAgICByb3RhdGU6IG51bGwsCiAgICAgIGxpc3RlbmVySWQ6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdGhpcy52YWx1ZSA9IGluZGV0ZXJtaW5hdGVUaW1lci52YWx1ZTsKICAgIHRoaXMucm90YXRlID0gaW5kZXRlcm1pbmF0ZVRpbWVyLnJvdGF0ZTsKICAgIHRoaXMubGlzdGVuZXJJZCA9IGluZGV0ZXJtaW5hdGVUaW1lci5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoX3JlZikgewogICAgICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlLAogICAgICAgICAgcm90YXRlID0gX3JlZi5yb3RhdGU7CiAgICAgIF90aGlzMi52YWx1ZSA9IHZhbHVlOwogICAgICBfdGhpczIucm90YXRlID0gcm90YXRlOwogICAgfSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgaW5kZXRlcm1pbmF0ZVRpbWVyLnJlbW92ZUxpc3RlbmVyKHRoaXMubGlzdGVuZXJJZCk7CiAgfQp9Ow=="},{"version":3,"sources":["IndeterminateProgressCircular.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAmBA,OAAA,UAAA,MAAA,kBAAA;;IAEA,kB;;;;;AACA,gCAAA;AAAA;;AAAA;;AACA;AACA,UAAA,SAAA,GAAA,CAAA;AACA,UAAA,KAAA,GAAA,CAAA;AACA,UAAA,MAAA,GAAA,CAAA;AAJA;AAKA;;;;4BAEA;AACA,UAAA,IAAA,GAAA,CAAA;AACA,UAAA,IAAA,GAAA,IAAA;AAEA,MAAA,IAAA,CAAA,UAAA,GAAA,WAAA,CAAA,YAAA;AACA,YAAA,IAAA,CAAA,SAAA,KAAA,CAAA,IAAA,IAAA,CAAA,KAAA,IAAA,GAAA,EAAA;AACA,UAAA,IAAA,CAAA,SAAA,GAAA,CAAA,CAAA;AACA,SAFA,MAEA,IAAA,IAAA,CAAA,SAAA,KAAA,CAAA,CAAA,IAAA,IAAA,CAAA,KAAA,IAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,SAAA,GAAA,CAAA;AACA;;AACA,YAAA,IAAA,CAAA,SAAA,KAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,MAAA,IAAA,IAAA;AACA,UAAA,IAAA,CAAA,KAAA,IAAA,IAAA;AACA,SAHA,MAGA;AACA,UAAA,IAAA,CAAA,MAAA,IAAA,IAAA,GAAA,CAAA;AACA,UAAA,IAAA,CAAA,KAAA,IAAA,CAAA,IAAA;AACA;;AAEA,YAAA,IAAA,CAAA,MAAA,GAAA,GAAA,EAAA;AACA,UAAA,IAAA,CAAA,MAAA,IAAA,GAAA;AACA;;AAEA,QAAA,IAAA,CAAA,aAAA,CAAA;AACA,UAAA,KAAA,EAAA,IAAA,CAAA,KADA;AAEA,UAAA,MAAA,EAAA,IAAA,CAAA;AAFA,SAAA;AAIA,OAtBA,EAsBA,EAtBA,CAAA;AAuBA;;;2BAEA;AACA,MAAA,aAAA,CAAA,KAAA,UAAA,CAAA;AACA;;;gCAEA,Q,EAAA;AACA,UAAA,CAAA,KAAA,YAAA,EAAA,EAAA;AACA,aAAA,KAAA;AACA;;AACA,iGAAA,QAAA;AACA;;;mCAEA,E,EAAA;AACA,6FAAA,EAAA;;AACA,UAAA,CAAA,KAAA,YAAA,EAAA,EAAA;AACA,aAAA,IAAA;AACA;AACA;;;;EArDA,U;;AAwDA,IAAA,kBAAA,GAAA,IAAA,kBAAA,EAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,IADA;AAEA,MAAA,MAAA,EAAA,IAFA;AAGA,MAAA,UAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AASA,EAAA,OATA,qBASA;AAAA;;AACA,SAAA,KAAA,GAAA,kBAAA,CAAA,KAAA;AACA,SAAA,MAAA,GAAA,kBAAA,CAAA,MAAA;AACA,SAAA,UAAA,GAAA,kBAAA,CAAA,WAAA,CAAA,gBAAA;AAAA,UAAA,KAAA,QAAA,KAAA;AAAA,UAAA,MAAA,QAAA,MAAA;AACA,MAAA,MAAA,CAAA,KAAA,GAAA,KAAA;AACA,MAAA,MAAA,CAAA,MAAA,GAAA,MAAA;AACA,KAHA,CAAA;AAIA,GAhBA;AAkBA,EAAA,aAlBA,2BAkBA;AACA,IAAA,kBAAA,CAAA,cAAA,CAAA,KAAA,UAAA;AACA;AApBA,CAAA","sourcesContent":["<template>\n  <v-progress-circular\n    color=\"white\"\n    class=\"indeterminate-progress-circular mr-2\"\n    size=\"20\"\n    width=\"10\"\n    :rotate=\"rotate\"\n    :value=\"value\"\n  >\n  </v-progress-circular>\n</template>\n<style lang=\"scss\">\n  .indeterminate-progress-circular {\n    .v-progress-circular__overlay {\n      transition: 0s !important;\n    }\n  }\n</style>\n<script>\nimport Listenable from '@/lib/Listenable';\n\nclass IndeterminateTimer extends Listenable {\n  constructor() {\n    super();\n    this.direction = 1;\n    this.value = 0;\n    this.rotate = 0;\n  }\n\n  start() {\n    const STEP = 1;\n    const self = this;\n\n    self.valueTimer = setInterval(() => {\n      if (self.direction === 1 && self.value >= 100) {\n        self.direction = -1;\n      } else if (self.direction === -1 && self.value <= 0) {\n        self.direction = 1;\n      }\n      if (self.direction === 1) {\n        self.rotate += STEP;\n        self.value += STEP;\n      } else {\n        self.rotate += STEP * 5;\n        self.value += -STEP;\n      }\n\n      if (self.rotate > 360) {\n        self.rotate %= 360;\n      }\n\n      self.callListeners({\n        value: self.value,\n        rotate: self.rotate,\n      });\n    }, 50);\n  }\n\n  stop() {\n    clearInterval(this.valueTimer);\n  }\n\n  addListener(callback) {\n    if (!this.hasListeners()) {\n      this.start();\n    }\n    return super.addListener(callback);\n  }\n\n  removeListener(id) {\n    super.removeListener(id);\n    if (!this.hasListeners()) {\n      this.stop();\n    }\n  }\n}\n\nconst indeterminateTimer = new IndeterminateTimer();\n\nexport default {\n  data() {\n    return {\n      value: null,\n      rotate: null,\n      listenerId: null,\n    };\n  },\n\n  mounted() {\n    this.value = indeterminateTimer.value;\n    this.rotate = indeterminateTimer.rotate;\n    this.listenerId = indeterminateTimer.addListener(({ value, rotate }) => {\n      this.value = value;\n      this.rotate = rotate;\n    });\n  },\n\n  beforeDestroy() {\n    indeterminateTimer.removeListener(this.listenerId);\n  },\n};\n</script>\n"],"sourceRoot":"src/components"}]}