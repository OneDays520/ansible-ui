{"remainingRequest":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/views/project/TemplateView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/views/project/TemplateView.vue","mtime":1638867583221},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9seC9nby9zcmMvZ2l0aHViLmNvbS9hbnNpYmxlLXNlbWFwaG9yZS9zZW1hcGhvcmUvd2ViMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBFdmVudEJ1cyBmcm9tICdAL2V2ZW50LWJ1cyc7CmltcG9ydCB7IGdldEVycm9yTWVzc2FnZSB9IGZyb20gJ0AvbGliL2Vycm9yJzsKaW1wb3J0IFllc05vRGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9ZZXNOb0RpYWxvZy52dWUnOwppbXBvcnQgRWRpdERpYWxvZyBmcm9tICdAL2NvbXBvbmVudHMvRWRpdERpYWxvZy52dWUnOwppbXBvcnQgVGVtcGxhdGVGb3JtIGZyb20gJ0AvY29tcG9uZW50cy9UZW1wbGF0ZUZvcm0udnVlJzsKaW1wb3J0IFRhc2tMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9UYXNrTGlzdC52dWUnOwppbXBvcnQgeyBURU1QTEFURV9UWVBFX0FDVElPTl9USVRMRVMsIFRFTVBMQVRFX1RZUEVfSUNPTlMsIFRFTVBMQVRFX1RZUEVfVElUTEVTIH0gZnJvbSAnQC9saWIvY29uc3RhbnRzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFllc05vRGlhbG9nOiBZZXNOb0RpYWxvZywKICAgIEVkaXREaWFsb2c6IEVkaXREaWFsb2csCiAgICBUZW1wbGF0ZUZvcm06IFRlbXBsYXRlRm9ybSwKICAgIFRhc2tMaXN0OiBUYXNrTGlzdAogIH0sCiAgcHJvcHM6IHsKICAgIHByb2plY3RJZDogTnVtYmVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbTogbnVsbCwKICAgICAgaW52ZW50b3J5OiBudWxsLAogICAgICBlbnZpcm9ubWVudDogbnVsbCwKICAgICAgcmVwb3NpdG9yaWVzOiBudWxsLAogICAgICBkZWxldGVEaWFsb2c6IG51bGwsCiAgICAgIGVkaXREaWFsb2c6IG51bGwsCiAgICAgIGNvcHlEaWFsb2c6IG51bGwsCiAgICAgIFRFTVBMQVRFX1RZUEVfSUNPTlM6IFRFTVBMQVRFX1RZUEVfSUNPTlMsCiAgICAgIFRFTVBMQVRFX1RZUEVfVElUTEVTOiBURU1QTEFURV9UWVBFX1RJVExFUywKICAgICAgVEVNUExBVEVfVFlQRV9BQ1RJT05fVElUTEVTOiBURU1QTEFURV9UWVBFX0FDVElPTl9USVRMRVMKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdmlld0lkOiBmdW5jdGlvbiB2aWV3SWQoKSB7CiAgICAgIGlmICgvXi0/XGQrJC8udGVzdCh0aGlzLiRyb3V0ZS5wYXJhbXMudmlld0lkKSkgewogICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLiRyb3V0ZS5wYXJhbXMudmlld0lkLCAxMCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMudmlld0lkOwogICAgfSwKICAgIGl0ZW1JZDogZnVuY3Rpb24gaXRlbUlkKCkgewogICAgICBpZiAoL14tP1xkKyQvLnRlc3QodGhpcy4kcm91dGUucGFyYW1zLnRlbXBsYXRlSWQpKSB7CiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy50ZW1wbGF0ZUlkLCAxMCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMudGVtcGxhdGVJZDsKICAgIH0sCiAgICBpc05ldzogZnVuY3Rpb24gaXNOZXcoKSB7CiAgICAgIHJldHVybiB0aGlzLml0ZW1JZCA9PT0gJ25ldyc7CiAgICB9LAogICAgaXNMb2FkZWQ6IGZ1bmN0aW9uIGlzTG9hZGVkKCkgewogICAgICByZXR1cm4gdGhpcy5pdGVtICYmIHRoaXMuaW52ZW50b3J5ICYmIHRoaXMuZW52aXJvbm1lbnQgJiYgdGhpcy5yZXBvc2l0b3JpZXM7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaXRlbUlkOiBmdW5jdGlvbiBpdGVtSWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmxvYWREYXRhKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoIV90aGlzMi5pc05ldykgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgICAgICAgcGF0aDogIi9wcm9qZWN0LyIuY29uY2F0KF90aGlzMi5wcm9qZWN0SWQsICIvdGVtcGxhdGVzL25ldy9lZGl0IikKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIubG9hZERhdGEoKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgc2hvd0RyYXdlcjogZnVuY3Rpb24gc2hvd0RyYXdlcigpIHsKICAgICAgRXZlbnRCdXMuJGVtaXQoJ2ktc2hvdy1kcmF3ZXInKTsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zKHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnZGVsZXRlJywKICAgICAgICAgICAgICAgICAgdXJsOiAiL2FwaS9wcm9qZWN0LyIuY29uY2F0KF90aGlzMy5wcm9qZWN0SWQsICIvdGVtcGxhdGVzLyIpLmNvbmNhdChfdGhpczMuaXRlbUlkKSwKICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnaS1zbmFja2JhcicsIHsKICAgICAgICAgICAgICAgICAgY29sb3I6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgdGV4dDogIlRlbXBsYXRlIFwiIi5jb25jYXQoX3RoaXMzLml0ZW0uYWxpYXMsICJcIiBkZWxldGVkIikKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiAiL3Byb2plY3QvIi5jb25jYXQoX3RoaXMzLnByb2plY3RJZCwgIi90ZW1wbGF0ZXMiKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2ktc25hY2tiYXInLCB7CiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICB0ZXh0OiBnZXRFcnJvck1lc3NhZ2UoX2NvbnRleHQzLnQwKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDExOwogICAgICAgICAgICAgICAgX3RoaXMzLmRlbGV0ZURpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5maW5pc2goMTEpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzAsIDgsIDExLCAxNF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25UZW1wbGF0ZUNvcGllZDogZnVuY3Rpb24gb25UZW1wbGF0ZUNvcGllZChlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgcGF0aDogIi9wcm9qZWN0LyIuY29uY2F0KF90aGlzNC5wcm9qZWN0SWQsICIvdGVtcGxhdGVzLyIpLmNvbmNhdChlLml0ZW0uaWQpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MoewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgICAgICAgICAgICB1cmw6ICIvYXBpL3Byb2plY3QvIi5jb25jYXQoX3RoaXM1LnByb2plY3RJZCwgIi90ZW1wbGF0ZXMvIikuY29uY2F0KF90aGlzNS5pdGVtSWQpLAogICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdqc29uJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzNS5pdGVtID0gX2NvbnRleHQ1LnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcyh7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgICAgICAgICAgIHVybDogIi9hcGkvcHJvamVjdC8iLmNvbmNhdChfdGhpczUucHJvamVjdElkLCAiL2ludmVudG9yeSIpLAogICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdqc29uJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF90aGlzNS5pbnZlbnRvcnkgPSBfY29udGV4dDUuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zKHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgICAgICAgICAgdXJsOiAiL2FwaS9wcm9qZWN0LyIuY29uY2F0KF90aGlzNS5wcm9qZWN0SWQsICIvZW52aXJvbm1lbnQiKSwKICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfdGhpczUuZW52aXJvbm1lbnQgPSBfY29udGV4dDUuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcyh7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgICAgICAgICAgIHVybDogIi9hcGkvcHJvamVjdC8iLmNvbmNhdChfdGhpczUucHJvamVjdElkLCAiL3JlcG9zaXRvcmllcyIpLAogICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdqc29uJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfdGhpczUucmVwb3NpdG9yaWVzID0gX2NvbnRleHQ1LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["TemplateView.vue"],"names":[],"mappings":"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","sourcesContent":["<template xmlns:v-slot=\"http://www.w3.org/1999/XSL/Transform\">\n  <div v-if=\"!isLoaded\">\n    <v-progress-linear\n        indeterminate\n        color=\"primary darken-2\"\n    ></v-progress-linear>\n  </div>\n  <div v-else>\n\n    <EditDialog\n        :max-width=\"700\"\n        v-model=\"editDialog\"\n        save-button-text=\"Save\"\n        title=\"编辑模板\"\n        @save=\"loadData()\"\n    >\n      <template v-slot:form=\"{ onSave, onError, needSave, needReset }\">\n        <TemplateForm\n            :project-id=\"projectId\"\n            :item-id=\"itemId\"\n            @save=\"onSave\"\n            @error=\"onError\"\n            :need-save=\"needSave\"\n            :need-reset=\"needReset\"\n        />\n      </template>\n    </EditDialog>\n\n    <EditDialog\n        v-model=\"copyDialog\"\n        save-button-text=\"创建\"\n        title=\"新模板\"\n        @save=\"onTemplateCopied\"\n    >\n      <template v-slot:form=\"{ onSave, onError, needSave, needReset }\">\n        <TemplateForm\n            :project-id=\"projectId\"\n            item-id=\"new\"\n            :source-item-id=\"itemId\"\n            @save=\"onSave\"\n            @error=\"onError\"\n            :need-save=\"needSave\"\n            :need-reset=\"needReset\"\n        />\n      </template>\n    </EditDialog>\n\n    <YesNoDialog\n        title=\"删除模板\"\n        text=\"Are you really want to delete this template?\"\n        v-model=\"deleteDialog\"\n        @yes=\"remove()\"\n    />\n\n    <v-toolbar flat color=\"white\">\n      <v-app-bar-nav-icon @click=\"showDrawer()\"></v-app-bar-nav-icon>\n      <v-toolbar-title class=\"breadcrumbs\">\n        <router-link\n            class=\"breadcrumbs__item breadcrumbs__item--link\"\n            :to=\"viewId\n              ? `/project/${projectId}/views/${viewId}/templates/`\n              : `/project/${projectId}/templates/`\"\n        >任务模板</router-link>\n        <v-icon>mdi-chevron-right</v-icon>\n        <span class=\"breadcrumbs__item\">{{ item.alias }}</span>\n      </v-toolbar-title>\n\n      <v-spacer></v-spacer>\n\n      <v-btn\n          icon\n          color=\"error\"\n          @click=\"deleteDialog = true\"\n      >\n        <v-icon>mdi-delete</v-icon>\n      </v-btn>\n\n      <v-btn\n          icon\n          color=\"black\"\n          @click=\"copyDialog = true\"\n      >\n        <v-icon>mdi-content-copy</v-icon>\n      </v-btn>\n\n      <v-btn\n          icon\n          color=\"black\"\n          @click=\"editDialog = true\"\n      >\n        <v-icon>mdi-pencil</v-icon>\n      </v-btn>\n    </v-toolbar>\n\n    <v-container>\n\n      <v-alert\n          text\n          type=\"info\"\n          class=\"mb-0 ml-4 mr-4 mb-2\"\n          v-if=\"item.description\"\n      >{{ item.description }}\n      </v-alert>\n\n      <v-row>\n        <v-col>\n          <v-list subheader dense>\n            <v-list-item>\n              <v-list-item-icon>\n                <v-icon>mdi-book-play</v-icon>\n              </v-list-item-icon>\n\n              <v-list-item-content>\n                <v-list-item-title>剧本</v-list-item-title>\n                <v-list-item-subtitle>{{ item.playbook }}</v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list>\n        </v-col>\n        <v-col>\n          <v-list subheader dense>\n            <v-list-item>\n              <v-list-item-icon>\n                <v-icon>{{ TEMPLATE_TYPE_ICONS[item.type] }}</v-icon>\n              </v-list-item-icon>\n\n              <v-list-item-content>\n                <v-list-item-title>任务类型</v-list-item-title>\n                <v-list-item-subtitle>{{ TEMPLATE_TYPE_TITLES[item.type] }}</v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list>\n        </v-col>\n        <v-col>\n          <v-list subheader dense>\n            <v-list-item>\n              <v-list-item-icon>\n                <v-icon>mdi-monitor</v-icon>\n              </v-list-item-icon>\n\n              <v-list-item-content>\n                <v-list-item-title>主机清单</v-list-item-title>\n                <v-list-item-subtitle>\n                  {{ inventory.find((x) => x.id === item.inventory_id).name }}\n                </v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list>\n        </v-col>\n        <v-col>\n          <v-list subheader dense>\n            <v-list-item>\n              <v-list-item-icon>\n                <v-icon>mdi-code-braces</v-icon>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title>运行环境</v-list-item-title>\n                <v-list-item-subtitle>\n                  {{ environment.find((x) => x.id === item.environment_id).name }}\n                </v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list>\n        </v-col>\n        <v-col>\n          <v-list subheader dense>\n            <v-list-item>\n              <v-list-item-icon>\n                <v-icon>mdi-git</v-icon>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title>剧本仓库</v-list-item-title>\n                <v-list-item-subtitle>\n                  {{ repositories.find((x) => x.id === item.repository_id).name }}\n                </v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list>\n        </v-col>\n      </v-row>\n    </v-container>\n\n    <TaskList :template=\"item\" />\n  </div>\n</template>\n<style lang=\"scss\">\n\n</style>\n<script>\nimport axios from 'axios';\nimport EventBus from '@/event-bus';\nimport { getErrorMessage } from '@/lib/error';\nimport YesNoDialog from '@/components/YesNoDialog.vue';\nimport EditDialog from '@/components/EditDialog.vue';\nimport TemplateForm from '@/components/TemplateForm.vue';\nimport TaskList from '@/components/TaskList.vue';\nimport { TEMPLATE_TYPE_ACTION_TITLES, TEMPLATE_TYPE_ICONS, TEMPLATE_TYPE_TITLES } from '@/lib/constants';\n\nexport default {\n  components: {\n    YesNoDialog, EditDialog, TemplateForm, TaskList,\n  },\n\n  props: {\n    projectId: Number,\n  },\n\n  data() {\n    return {\n      item: null,\n      inventory: null,\n      environment: null,\n      repositories: null,\n      deleteDialog: null,\n      editDialog: null,\n      copyDialog: null,\n      TEMPLATE_TYPE_ICONS,\n      TEMPLATE_TYPE_TITLES,\n      TEMPLATE_TYPE_ACTION_TITLES,\n    };\n  },\n\n  computed: {\n    viewId() {\n      if (/^-?\\d+$/.test(this.$route.params.viewId)) {\n        return parseInt(this.$route.params.viewId, 10);\n      }\n      return this.$route.params.viewId;\n    },\n\n    itemId() {\n      if (/^-?\\d+$/.test(this.$route.params.templateId)) {\n        return parseInt(this.$route.params.templateId, 10);\n      }\n      return this.$route.params.templateId;\n    },\n    isNew() {\n      return this.itemId === 'new';\n    },\n    isLoaded() {\n      return this.item\n          && this.inventory\n          && this.environment\n          && this.repositories;\n    },\n  },\n\n  watch: {\n    async itemId() {\n      await this.loadData();\n    },\n  },\n\n  async created() {\n    if (this.isNew) {\n      await this.$router.replace({\n        path: `/project/${this.projectId}/templates/new/edit`,\n      });\n    } else {\n      await this.loadData();\n    }\n  },\n\n  methods: {\n    showDrawer() {\n      EventBus.$emit('i-show-drawer');\n    },\n\n    async remove() {\n      try {\n        await axios({\n          method: 'delete',\n          url: `/api/project/${this.projectId}/templates/${this.itemId}`,\n          responseType: 'json',\n        });\n\n        EventBus.$emit('i-snackbar', {\n          color: 'success',\n          text: `Template \"${this.item.alias}\" deleted`,\n        });\n\n        await this.$router.push({\n          path: `/project/${this.projectId}/templates`,\n        });\n      } catch (err) {\n        EventBus.$emit('i-snackbar', {\n          color: 'error',\n          text: getErrorMessage(err),\n        });\n      } finally {\n        this.deleteDialog = false;\n      }\n    },\n\n    async onTemplateCopied(e) {\n      await this.$router.push({\n        path: `/project/${this.projectId}/templates/${e.item.id}`,\n      });\n    },\n\n    async loadData() {\n      this.item = (await axios({\n        method: 'get',\n        url: `/api/project/${this.projectId}/templates/${this.itemId}`,\n        responseType: 'json',\n      })).data;\n\n      this.inventory = (await axios({\n        method: 'get',\n        url: `/api/project/${this.projectId}/inventory`,\n        responseType: 'json',\n      })).data;\n\n      this.environment = (await axios({\n        method: 'get',\n        url: `/api/project/${this.projectId}/environment`,\n        responseType: 'json',\n      })).data;\n\n      this.repositories = (await axios({\n        method: 'get',\n        url: `/api/project/${this.projectId}/repositories`,\n        responseType: 'json',\n      })).data;\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/views/project"}]}