{"remainingRequest":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/eslint-loader/index.js??ref--13-0!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/components/ItemFormBase.js","dependencies":[{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/components/ItemFormBase.js","mtime":1638779901599},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2x4L2dvL3NyYy9naXRodWIuY29tL2Fuc2libGUtc2VtYXBob3JlL3NlbWFwaG9yZS93ZWIyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2x4L2dvL3NyYy9naXRodWIuY29tL2Fuc2libGUtc2VtYXBob3JlL3NlbWFwaG9yZS93ZWIyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgZ2V0RXJyb3JNZXNzYWdlIH0gZnJvbSAnQC9saWIvZXJyb3InOwovKioKICogTW9zdCBvZiBTZW1hcGhvcmUgZW50aXRpZXMgKGtleXMsIGVudmlyb25tZW50cywgZXRjKSBoYXZlIHNpbWlsYXIgUkVTVCBBUEkgZm9yCiAqIGFjY2VzcyBhbmQgbWFuaXB1bGF0aW9uLgogKiBUaGlzIGNsYXNzIHByZXNlbnRzIG1peGluIGZvciBjcmVhdGluZyBlZGl0aW5nIGZvcm0gZm9yIHN1Y2ggZW50aXRpZXMuCiAqIFRoaXMgY2xhc3Mgc2hvdWxkIGJlIHVzZWQgYXMgbWl4aW4gaW4gVnVlLXRlbXBsYXRlLgogKgogKiBTaW1wbGVzdCBleGFtcGxlOiBLZXlGb3JtLnZ1ZS4gSXQgZGVtb25zdHJhdGUgYWxsIHlvdSBuZWVkIHRvIHVuZGVyc3RhbmQgaG93IGl0IHdvcmtzLgogKgogKiBZb3UgbXVzdCBwcm92aWRlIG5leHQgcmVxdWlyZWQgcHJvcGVydGllcyB0byB1c2UgdGhpcyBtaXhpbjoKICoKICogKiBpdGVtSWQKICogKiBwcm9qZWN0SWQKICoKICogWW91ciB0ZW1wbGF0ZSBtdXN0IGhhdmUgPHYtZm9ybSByZWY9ImZvcm0iPi4uLjwvdi1mb3JtPi4KICoKICogWW91IG11c3QgcHJvdmlkZSBuZXh0IG1ldGhvZHMgaW4geW91ciB0ZW1wbGF0ZToKICoKICogKiBnZXRJdGVtc1VybCgpIC0gcmV0dXJucyBVUkwgZm9yIHJldHJpZXZpbmcgY29sbGVjdGlvbiBvZiBlbnRpdGllcyAoR0VULW1ldGhvZCkuCiAqICogZ2V0U2luZ2xlSXRlbVVybCgpIC0gcmV0dXJucyBVUkwgZm9yIHJldHJpZXZpbmcgYW5kIG1hbmlwdWxhdGlvbiBvZiBzaW5nbGUgZW50aXR5CiAqICAgICAgICAgICAgICAgICAgICAgICAgKEdFVCwgUE9TVCwgUFVULCBERUxFVEUgbWV0aG9kcykuCiAqLwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBpdGVtSWQ6IFtOdW1iZXIsIFN0cmluZ10sCiAgICBwcm9qZWN0SWQ6IFtOdW1iZXIsIFN0cmluZ10sCiAgICBuZWVkU2F2ZTogQm9vbGVhbiwKICAgIC8vIGZsYWcgd2hpY2ggc2lnbmFsIGFib3V0IHVzZXIgd2FudCB0byBzYXZlIGZvcm0KICAgIG5lZWRSZXNldDogQm9vbGVhbiAvLyBmbGFnIHdoaWNoIHNpZ25hbCBhYm91dCB1c2VyIHdhbnQgdG8gcmVzZXQgZm9ybQoKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpdGVtOiBudWxsLAogICAgICBmb3JtVmFsaWQ6IGZhbHNlLAogICAgICBmb3JtRXJyb3I6IG51bGwsCiAgICAgIGZvcm1TYXZpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5sb2FkRGF0YSgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzTmV3OiBmdW5jdGlvbiBpc05ldygpIHsKICAgICAgcmV0dXJuIHRoaXMuaXRlbUlkID09PSAnbmV3JzsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBuZWVkU2F2ZTogZnVuY3Rpb24gbmVlZFNhdmUodmFsKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghdmFsKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zYXZlKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG5lZWRSZXNldDogZnVuY3Rpb24gbmVlZFJlc2V0KHZhbCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIXZhbCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMucmVzZXQoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNC5pdGVtID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzNC5mb3JtRXJyb3IgPSBudWxsOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczQuJHJlZnMuZm9ybSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuJHJlZnMuZm9ybS5yZXNldFZhbGlkYXRpb24oKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmxvYWREYXRhKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldEl0ZW1zVXJsOiBmdW5jdGlvbiBnZXRJdGVtc1VybCgpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTsgLy8gbXVzdCBtZSBpbXBsZW1lbnRlZCBpbiB0ZW1wbGF0ZQogICAgfSwKICAgIGdldFNpbmdsZUl0ZW1Vcmw6IGZ1bmN0aW9uIGdldFNpbmdsZUl0ZW1VcmwoKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7IC8vIG11c3QgbWUgaW1wbGVtZW50ZWQgaW4gdGVtcGxhdGUKICAgIH0sCiAgICBiZWZvcmVTYXZlOiBmdW5jdGlvbiBiZWZvcmVTYXZlKCkge30sCiAgICBhZnRlclNhdmU6IGZ1bmN0aW9uIGFmdGVyU2F2ZSgpIHt9LAogICAgYWZ0ZXJMb2FkRGF0YTogZnVuY3Rpb24gYWZ0ZXJMb2FkRGF0YSgpIHt9LAogICAgZ2V0TmV3SXRlbTogZnVuY3Rpb24gZ2V0TmV3SXRlbSgpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfSwKICAgIGxvYWREYXRhOiBmdW5jdGlvbiBsb2FkRGF0YSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczUuaXNOZXcpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczUuaXRlbSA9IF90aGlzNS5nZXROZXdJdGVtKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zKHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgICAgICAgICAgdXJsOiBfdGhpczUuZ2V0U2luZ2xlSXRlbVVybCgpLAogICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdqc29uJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzNS5pdGVtID0gX2NvbnRleHQ1LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5hZnRlckxvYWREYXRhKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKioKICAgICAqIFlvdSBhZGQgYWRkL292ZXJyaWRlIHNvbWUgUFVUL1BPU1QgcmVxdWVzdCBvcHRpb25zIHdpdGggdXNpbmcgdGhpcyBtZXRob2QuCiAgICAgKiBGb3IgZXhhbXBsZSwgeW91IHdhbnQgdG8gY2hhbmdlIHJlc3BvbnNlIHR5cGUsIGp1c3Qgb3ZlcnJpZGUgdGhpcyBtZXRob2Q6CiAgICAgKiBgYGAKICAgICAqIGdldFJlcXVlc3RPcHRpb25zKCkgewogICAgICogICByZXR1cm4gewogICAgICogICAgIHJlc3BvbnNlVHlwZTogJ3RleHQnCiAgICAgKiAgIH0KICAgICAqIH0KICAgICAqIGBgYAogICAgICoKICAgICAqIFRoaXMgbWV0aG9kIHdvcmtzIG9ubHkgZm9yIGNyZWF0ZSAoUE9TVCkgYW5kIHVwZGF0ZSAoUFVUKSByZXF1ZXN0cy4KICAgICAqIEByZXR1cm5zIHtPYmplY3R9CiAgICAgKi8KICAgIGdldFJlcXVlc3RPcHRpb25zOiBmdW5jdGlvbiBnZXRSZXF1ZXN0T3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfSwKCiAgICAvKioKICAgICAqIFNhdmVzIG9yIGNyZWF0ZXMgaXRlbSB2aWEgQVBJLgogICAgICogQHJldHVybnMge1Byb21pc2U8bnVsbD59IG51bGwgaWYgdmFsaWRhdGlvbiBkaWRuJ3QgcGFzcyBvciB1c2VyIGRhdGEgaWYgdXNlciBzYXZlZC4KICAgICAqLwogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgaXRlbTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM2LmZvcm1FcnJvciA9IG51bGw7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczYuJGVtaXQoJ2Vycm9yJywge30pOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3RoaXM2LmZvcm1TYXZpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSA1OwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5iZWZvcmVTYXZlKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MoX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogX3RoaXM2LmlzTmV3ID8gJ3Bvc3QnIDogJ3B1dCcsCiAgICAgICAgICAgICAgICAgIHVybDogX3RoaXM2LmlzTmV3ID8gX3RoaXM2LmdldEl0ZW1zVXJsKCkgOiBfdGhpczYuZ2V0U2luZ2xlSXRlbVVybCgpLAogICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdqc29uJywKICAgICAgICAgICAgICAgICAgZGF0YTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpczYuaXRlbSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgcHJvamVjdF9pZDogX3RoaXM2LnByb2plY3RJZAogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgX3RoaXM2LmdldFJlcXVlc3RPcHRpb25zKCkpKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGl0ZW0gPSBfY29udGV4dDYuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuYWZ0ZXJTYXZlKGl0ZW0pOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX3RoaXM2LiRlbWl0KCdzYXZlJywgewogICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtIHx8IF90aGlzNi5pdGVtLAogICAgICAgICAgICAgICAgICBhY3Rpb246IF90aGlzNi5pc05ldyA/ICduZXcnIDogJ2VkaXQnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2WyJjYXRjaCJdKDUpOwogICAgICAgICAgICAgICAgX3RoaXM2LmZvcm1FcnJvciA9IGdldEVycm9yTWVzc2FnZShfY29udGV4dDYudDApOwoKICAgICAgICAgICAgICAgIF90aGlzNi4kZW1pdCgnZXJyb3InLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDIwOwogICAgICAgICAgICAgICAgX3RoaXM2LmZvcm1TYXZpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuZmluaXNoKDIwKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBpdGVtIHx8IF90aGlzNi5pdGVtKTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNiwgbnVsbCwgW1s1LCAxNiwgMjAsIDIzXV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/components/ItemFormBase.js"],"names":["axios","getErrorMessage","props","itemId","Number","String","projectId","needSave","Boolean","needReset","data","item","formValid","formError","formSaving","created","loadData","computed","isNew","watch","val","save","reset","methods","$refs","form","resetValidation","getItemsUrl","Error","getSingleItemUrl","beforeSave","afterSave","afterLoadData","getNewItem","method","url","responseType","getRequestOptions","validate","$emit","project_id","action"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,aAAhC;AAEA;;;;;;;;;;;;;;;;;;;;;;AAqBA,eAAe;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE,CAACC,MAAD,EAASC,MAAT,CADH;AAELC,IAAAA,SAAS,EAAE,CAACF,MAAD,EAASC,MAAT,CAFN;AAGLE,IAAAA,QAAQ,EAAEC,OAHL;AAGc;AACnBC,IAAAA,SAAS,EAAED,OAJN,CAIe;;AAJf,GADM;AAQbE,EAAAA,IARa,kBAQN;AACL,WAAO;AACLC,MAAAA,IAAI,EAAE,IADD;AAELC,MAAAA,SAAS,EAAE,KAFN;AAGLC,MAAAA,SAAS,EAAE,IAHN;AAILC,MAAAA,UAAU,EAAE;AAJP,KAAP;AAMD,GAfY;AAiBPC,EAAAA,OAjBO,qBAiBG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACR,KAAI,CAACC,QAAL,EADQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEf,GAnBY;AAqBbC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,KADQ,mBACA;AACN,aAAO,KAAKf,MAAL,KAAgB,KAAvB;AACD;AAHO,GArBG;AA2BbgB,EAAAA,KAAK,EAAE;AACCZ,IAAAA,QADD,oBACUa,GADV,EACe;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACdA,GADc;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEV,MAAI,CAACC,IAAL,EAFU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAInB,KALI;AAMCZ,IAAAA,SAND,qBAMWW,GANX,EAMgB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACfA,GADe;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEX,MAAI,CAACE,KAAL,EAFW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIpB;AAVI,GA3BM;AAwCbC,EAAAA,OAAO,EAAE;AACDD,IAAAA,KADC,mBACO;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACZ,gBAAA,MAAI,CAACX,IAAL,GAAY,IAAZ;AACA,gBAAA,MAAI,CAACE,SAAL,GAAiB,IAAjB;;AACA,oBAAI,MAAI,CAACW,KAAL,CAAWC,IAAf,EAAqB;AACnB,kBAAA,MAAI,CAACD,KAAL,CAAWC,IAAX,CAAgBC,eAAhB;AACD;;AALW;AAAA,uBAMN,MAAI,CAACV,QAAL,EANM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOb,KARM;AAUPW,IAAAA,WAVO,yBAUO;AACZ,YAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN,CADY,CACwB;AACrC,KAZM;AAcPC,IAAAA,gBAdO,8BAcY;AACjB,YAAM,IAAID,KAAJ,CAAU,iBAAV,CAAN,CADiB,CACmB;AACrC,KAhBM;AAkBPE,IAAAA,UAlBO,wBAkBM,CAEZ,CApBM;AAsBPC,IAAAA,SAtBO,uBAsBK,CAEX,CAxBM;AA0BPC,IAAAA,aA1BO,2BA0BS,CAEf,CA5BM;AA8BPC,IAAAA,UA9BO,wBA8BM;AACX,aAAO,EAAP;AACD,KAhCM;AAkCDjB,IAAAA,QAlCC,sBAkCU;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACX,MAAI,CAACE,KADM;AAAA;AAAA;AAAA;;AAEb,gBAAA,MAAI,CAACP,IAAL,GAAY,MAAI,CAACsB,UAAL,EAAZ;AAFa;AAAA;;AAAA;AAAA;AAAA,uBAIMjC,KAAK,CAAC;AACvBkC,kBAAAA,MAAM,EAAE,KADe;AAEvBC,kBAAAA,GAAG,EAAE,MAAI,CAACN,gBAAL,EAFkB;AAGvBO,kBAAAA,YAAY,EAAE;AAHS,iBAAD,CAJX;;AAAA;AAIb,gBAAA,MAAI,CAACzB,IAJQ,kBAQTD,IARS;;AAAA;AAAA;AAAA,uBAWT,MAAI,CAACsB,aAAL,EAXS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYhB,KA9CM;;AAgDP;;;;;;;;;;;;;;AAcAK,IAAAA,iBA9DO,+BA8Da;AAClB,aAAO,EAAP;AACD,KAhEM;;AAkEP;;;;AAIMhB,IAAAA,IAtEC,kBAsEM;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACX,gBAAA,MAAI,CAACR,SAAL,GAAiB,IAAjB;;AADW,oBAGN,MAAI,CAACW,KAAL,CAAWC,IAAX,CAAgBa,QAAhB,EAHM;AAAA;AAAA;AAAA;;AAIT,gBAAA,MAAI,CAACC,KAAL,CAAW,OAAX,EAAoB,EAApB;;AAJS,kDAKF,IALE;;AAAA;AAQX,gBAAA,MAAI,CAACzB,UAAL,GAAkB,IAAlB;AARW;AAAA;AAAA,uBAYH,MAAI,CAACgB,UAAL,EAZG;;AAAA;AAAA;AAAA,uBAcK9B,KAAK;AACjBkC,kBAAAA,MAAM,EAAE,MAAI,CAAChB,KAAL,GAAa,MAAb,GAAsB,KADb;AAEjBiB,kBAAAA,GAAG,EAAE,MAAI,CAACjB,KAAL,GACD,MAAI,CAACS,WAAL,EADC,GAED,MAAI,CAACE,gBAAL,EAJa;AAKjBO,kBAAAA,YAAY,EAAE,MALG;AAMjB1B,kBAAAA,IAAI,kCACC,MAAI,CAACC,IADN;AAEF6B,oBAAAA,UAAU,EAAE,MAAI,CAAClC;AAFf;AANa,mBAUb,MAAI,CAAC+B,iBAAL,EAVa,EAdV;;AAAA;AAcT1B,gBAAAA,IAdS,kBAyBLD,IAzBK;AAAA;AAAA,uBA2BH,MAAI,CAACqB,SAAL,CAAepB,IAAf,CA3BG;;AAAA;AA6BT,gBAAA,MAAI,CAAC4B,KAAL,CAAW,MAAX,EAAmB;AACjB5B,kBAAAA,IAAI,EAAEA,IAAI,IAAI,MAAI,CAACA,IADF;AAEjB8B,kBAAAA,MAAM,EAAE,MAAI,CAACvB,KAAL,GAAa,KAAb,GAAqB;AAFZ,iBAAnB;;AA7BS;AAAA;;AAAA;AAAA;AAAA;AAkCT,gBAAA,MAAI,CAACL,SAAL,GAAiBZ,eAAe,cAAhC;;AACA,gBAAA,MAAI,CAACsC,KAAL,CAAW,OAAX,EAAoB,EAApB;;AAnCS;AAAA;AAqCT,gBAAA,MAAI,CAACzB,UAAL,GAAkB,KAAlB;AArCS;;AAAA;AAAA,kDAwCJH,IAAI,IAAI,MAAI,CAACA,IAxCT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyCZ;AA/GM;AAxCI,CAAf","sourcesContent":["import axios from 'axios';\nimport { getErrorMessage } from '@/lib/error';\n\n/**\n * Most of Semaphore entities (keys, environments, etc) have similar REST API for\n * access and manipulation.\n * This class presents mixin for creating editing form for such entities.\n * This class should be used as mixin in Vue-template.\n *\n * Simplest example: KeyForm.vue. It demonstrate all you need to understand how it works.\n *\n * You must provide next required properties to use this mixin:\n *\n * * itemId\n * * projectId\n *\n * Your template must have <v-form ref=\"form\">...</v-form>.\n *\n * You must provide next methods in your template:\n *\n * * getItemsUrl() - returns URL for retrieving collection of entities (GET-method).\n * * getSingleItemUrl() - returns URL for retrieving and manipulation of single entity\n *                        (GET, POST, PUT, DELETE methods).\n */\nexport default {\n  props: {\n    itemId: [Number, String],\n    projectId: [Number, String],\n    needSave: Boolean, // flag which signal about user want to save form\n    needReset: Boolean, // flag which signal about user want to reset form\n  },\n\n  data() {\n    return {\n      item: null,\n      formValid: false,\n      formError: null,\n      formSaving: false,\n    };\n  },\n\n  async created() {\n    await this.loadData();\n  },\n\n  computed: {\n    isNew() {\n      return this.itemId === 'new';\n    },\n  },\n\n  watch: {\n    async needSave(val) {\n      if (val) {\n        await this.save();\n      }\n    },\n    async needReset(val) {\n      if (val) {\n        await this.reset();\n      }\n    },\n  },\n\n  methods: {\n    async reset() {\n      this.item = null;\n      this.formError = null;\n      if (this.$refs.form) {\n        this.$refs.form.resetValidation();\n      }\n      await this.loadData();\n    },\n\n    getItemsUrl() {\n      throw new Error('Not implemented'); // must me implemented in template\n    },\n\n    getSingleItemUrl() {\n      throw new Error('Not implemented'); // must me implemented in template\n    },\n\n    beforeSave() {\n\n    },\n\n    afterSave() {\n\n    },\n\n    afterLoadData() {\n\n    },\n\n    getNewItem() {\n      return {};\n    },\n\n    async loadData() {\n      if (this.isNew) {\n        this.item = this.getNewItem();\n      } else {\n        this.item = (await axios({\n          method: 'get',\n          url: this.getSingleItemUrl(),\n          responseType: 'json',\n        })).data;\n      }\n\n      await this.afterLoadData();\n    },\n\n    /**\n     * You add add/override some PUT/POST request options with using this method.\n     * For example, you want to change response type, just override this method:\n     * ```\n     * getRequestOptions() {\n     *   return {\n     *     responseType: 'text'\n     *   }\n     * }\n     * ```\n     *\n     * This method works only for create (POST) and update (PUT) requests.\n     * @returns {Object}\n     */\n    getRequestOptions() {\n      return {};\n    },\n\n    /**\n     * Saves or creates item via API.\n     * @returns {Promise<null>} null if validation didn't pass or user data if user saved.\n     */\n    async save() {\n      this.formError = null;\n\n      if (!this.$refs.form.validate()) {\n        this.$emit('error', {});\n        return null;\n      }\n\n      this.formSaving = true;\n      let item;\n\n      try {\n        await this.beforeSave();\n\n        item = (await axios({\n          method: this.isNew ? 'post' : 'put',\n          url: this.isNew\n            ? this.getItemsUrl()\n            : this.getSingleItemUrl(),\n          responseType: 'json',\n          data: {\n            ...this.item,\n            project_id: this.projectId,\n          },\n          ...(this.getRequestOptions()),\n        })).data;\n\n        await this.afterSave(item);\n\n        this.$emit('save', {\n          item: item || this.item,\n          action: this.isNew ? 'new' : 'edit',\n        });\n      } catch (err) {\n        this.formError = getErrorMessage(err);\n        this.$emit('error', {});\n      } finally {\n        this.formSaving = false;\n      }\n\n      return item || this.item;\n    },\n  },\n};\n"]}]}