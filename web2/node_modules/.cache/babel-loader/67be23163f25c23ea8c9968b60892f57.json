{"remainingRequest":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/components/TableSettingsSheet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/components/TableSettingsSheet.vue","mtime":1638779901600},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2x4L2dvL3NyYy9naXRodWIuY29tL2Fuc2libGUtc2VtYXBob3JlL3NlbWFwaG9yZS93ZWIyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFBhZ2VCb3R0b21TaGVldCBmcm9tICdAL2NvbXBvbmVudHMvUGFnZUJvdHRvbVNoZWV0LnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgdmFsdWU6IEJvb2xlYW4sCiAgICB0YWJsZU5hbWU6IFN0cmluZywKICAgIGhlYWRlcnM6IEFycmF5CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBQYWdlQm90dG9tU2hlZXQ6IFBhZ2VCb3R0b21TaGVldAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNoZWV0OiBmYWxzZSwKICAgICAgc2V0dGluZ3M6IG51bGwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgc2hlZXQ6IGZ1bmN0aW9uIHNoZWV0KHZhbCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWwpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHZhbCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuc2hlZXQgPSB2YWw7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhlYWRlcnM6IGZ1bmN0aW9uIGhlYWRlcnMoKSB7CiAgICAgIHRoaXMubG9hZFNldHRpbmdzKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkU2V0dGluZ3MoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNhdmVTZXR0aW5nczogZnVuY3Rpb24gc2F2ZVNldHRpbmdzKCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiIi5jb25jYXQodGhpcy50YWJsZU5hbWUsICJfX3NldHRpbmdzIiksIEpTT04uc3RyaW5naWZ5KHRoaXMuc2V0dGluZ3MpKTsKICAgICAgdGhpcy5sb2FkU2V0dGluZ3MoKTsKICAgIH0sCiAgICBsb2FkU2V0dGluZ3M6IGZ1bmN0aW9uIGxvYWRTZXR0aW5ncygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIiIuY29uY2F0KHRoaXMudGFibGVOYW1lLCAiX19zZXR0aW5ncyIpKSkgewogICAgICAgIHRoaXMuc2V0dGluZ3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCIiLmNvbmNhdCh0aGlzLnRhYmxlTmFtZSwgIl9fc2V0dGluZ3MiKSkpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2V0dGluZ3MgPSB7CiAgICAgICAgICBjb2x1bW5zOiB7fQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHRoaXMuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChoZWFkZXIpIHsKICAgICAgICBpZiAoIV90aGlzMy5zZXR0aW5ncy5jb2x1bW5zW2hlYWRlci52YWx1ZV0pIHsKICAgICAgICAgIF90aGlzMy5zZXR0aW5ncy5jb2x1bW5zW2hlYWRlci52YWx1ZV0gPSB7CiAgICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgewogICAgICAgIHNldHRpbmdzOiB0aGlzLnNldHRpbmdzLAogICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycy5maWx0ZXIoZnVuY3Rpb24gKGhlYWRlcikgewogICAgICAgICAgdmFyIGNvbHVtbiA9IF90aGlzMy5zZXR0aW5ncy5jb2x1bW5zW2hlYWRlci52YWx1ZV07CiAgICAgICAgICByZXR1cm4gIWNvbHVtbiB8fCBjb2x1bW4udmlzaWJsZTsKICAgICAgICB9KQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["TableSettingsSheet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAiBA,OAAA,eAAA,MAAA,kCAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA,OADA;AAEA,IAAA,SAAA,EAAA,MAFA;AAGA,IAAA,OAAA,EAAA;AAHA,GADA;AAOA,EAAA,UAAA,EAAA;AAAA,IAAA,eAAA,EAAA;AAAA,GAPA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAdA;AAgBA,EAAA,KAAA,EAAA;AACA,IAAA,KADA,iBACA,GADA,EACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,KAAA,CAAA,OAAA,EAAA,GAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KAHA;AAKA,IAAA,KALA,iBAKA,GALA,EAKA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,KAAA,GAAA,GAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KAPA;AAQA,IAAA,OARA,qBAQA;AACA,WAAA,YAAA;AACA;AAVA,GAhBA;AA6BA,EAAA,OA7BA,qBA6BA;AACA,SAAA,YAAA;AACA,GA/BA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,MAAA,YAAA,CAAA,OAAA,WAAA,KAAA,SAAA,iBAAA,IAAA,CAAA,SAAA,CAAA,KAAA,QAAA,CAAA;AACA,WAAA,YAAA;AACA,KAJA;AAKA,IAAA,YALA,0BAKA;AAAA;;AACA,UAAA,YAAA,CAAA,OAAA,WAAA,KAAA,SAAA,gBAAA,EAAA;AACA,aAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CACA,YAAA,CAAA,OAAA,WAAA,KAAA,SAAA,gBADA,CAAA;AAGA,OAJA,MAIA;AACA,aAAA,QAAA,GAAA;AACA,UAAA,OAAA,EAAA;AADA,SAAA;AAGA;;AAEA,WAAA,OAAA,CAAA,OAAA,CAAA,UAAA,MAAA,EAAA;AACA,YAAA,CAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA,CAAA,KAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA,CAAA,KAAA,IAAA;AACA,YAAA,OAAA,EAAA;AADA,WAAA;AAGA;AACA,OANA;AAQA,WAAA,KAAA,CAAA,QAAA,EAAA;AACA,QAAA,QAAA,EAAA,KAAA,QADA;AAEA,QAAA,OAAA,EAAA,KAAA,OAAA,CAAA,MAAA,CAAA,UAAA,MAAA,EAAA;AACA,cAAA,MAAA,GAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA,CAAA,KAAA,CAAA;AACA,iBAAA,CAAA,MAAA,IAAA,MAAA,CAAA,OAAA;AACA,SAHA;AAFA,OAAA;AAOA;AA/BA;AAjCA,CAAA","sourcesContent":["<template>\n  <PageBottomSheet v-model=\"sheet\" v-if=\"settings\">\n    <h4>Columns</h4>\n    <div class=\"d-flex flex-row flex-wrap\">\n      <v-checkbox\n        class=\"mr-6\"\n        v-for=\"(header) in headers.filter((header) => header.value !== 'actions')\"\n        :key=\"header.value\"\n        :label=\"header.text\"\n        v-model=\"settings.columns[header.value].visible\"\n        @change=\"saveSettings()\"\n      />\n    </div>\n  </PageBottomSheet>\n</template>\n\n<script>\nimport PageBottomSheet from '@/components/PageBottomSheet.vue';\n\nexport default {\n  props: {\n    value: Boolean,\n    tableName: String,\n    headers: Array,\n  },\n\n  components: { PageBottomSheet },\n\n  data() {\n    return {\n      sheet: false,\n      settings: null,\n    };\n  },\n\n  watch: {\n    async sheet(val) {\n      this.$emit('input', val);\n    },\n\n    async value(val) {\n      this.sheet = val;\n    },\n    headers() {\n      this.loadSettings();\n    },\n  },\n\n  created() {\n    this.loadSettings();\n  },\n\n  methods: {\n    saveSettings() {\n      localStorage.setItem(`${this.tableName}__settings`, JSON.stringify(this.settings));\n      this.loadSettings();\n    },\n    loadSettings() {\n      if (localStorage.getItem(`${this.tableName}__settings`)) {\n        this.settings = JSON.parse(\n          localStorage.getItem(`${this.tableName}__settings`),\n        );\n      } else {\n        this.settings = {\n          columns: {},\n        };\n      }\n\n      this.headers.forEach((header) => {\n        if (!this.settings.columns[header.value]) {\n          this.settings.columns[header.value] = {\n            visible: true,\n          };\n        }\n      });\n\n      this.$emit('change', {\n        settings: this.settings,\n        headers: this.headers.filter((header) => {\n          const column = this.settings.columns[header.value];\n          return !column || column.visible;\n        }),\n      });\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/components"}]}