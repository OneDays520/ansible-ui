{"remainingRequest":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/components/RepositoryForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/src/components/RepositoryForm.vue","mtime":1638779901600},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lx/go/src/github.com/ansible-semaphore/semaphore/web2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJdGVtRm9ybUJhc2UgZnJvbSAnQC9jb21wb25lbnRzL0l0ZW1Gb3JtQmFzZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbSXRlbUZvcm1CYXNlXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGVscERpYWxvZzogbnVsbCwKICAgICAgaGVscEtleTogbnVsbCwKCiAgICAgIGtleXM6IG51bGwsCiAgICAgIGludmVudG9yeVR5cGVzOiBbewogICAgICAgIGlkOiAnc3RhdGljJywKICAgICAgICBuYW1lOiAnU3RhdGljJywKICAgICAgfSwgewogICAgICAgIGlkOiAnZmlsZScsCiAgICAgICAgbmFtZTogJ0ZpbGUnLAogICAgICB9XSwKICAgIH07CiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgdGhpcy5rZXlzID0gKGF3YWl0IGF4aW9zKHsKICAgICAga2V5czogJ2dldCcsCiAgICAgIHVybDogYC9hcGkvcHJvamVjdC8ke3RoaXMucHJvamVjdElkfS9rZXlzYCwKICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsCiAgICB9KSkuZGF0YTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dIZWxwRGlhbG9nKGtleSkgewogICAgICB0aGlzLmhlbHBLZXkgPSBrZXk7CiAgICAgIHRoaXMuaGVscERpYWxvZyA9IHRydWU7CiAgICB9LAoKICAgIGdldEl0ZW1zVXJsKCkgewogICAgICByZXR1cm4gYC9hcGkvcHJvamVjdC8ke3RoaXMucHJvamVjdElkfS9yZXBvc2l0b3JpZXNgOwogICAgfSwKCiAgICBnZXRTaW5nbGVJdGVtVXJsKCkgewogICAgICByZXR1cm4gYC9hcGkvcHJvamVjdC8ke3RoaXMucHJvamVjdElkfS9yZXBvc2l0b3JpZXMvJHt0aGlzLml0ZW1JZH1gOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["RepositoryForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"RepositoryForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-form\n      ref=\"form\"\n      lazy-validation\n      v-model=\"formValid\"\n      v-if=\"item != null && keys != null\"\n  >\n    <v-alert\n        :value=\"formError\"\n        color=\"error\"\n        class=\"pb-2\"\n    >{{ formError }}\n    </v-alert>\n\n    <v-text-field\n        v-model=\"item.name\"\n        label=\"Name\"\n        :rules=\"[v => !!v || 'Name is required']\"\n        required\n        :disabled=\"formSaving\"\n    ></v-text-field>\n\n    <v-text-field\n        v-model=\"item.git_url\"\n        label=\"Repository URL\"\n        :rules=\"[v => !!v || 'Repository is required']\"\n        required\n        :disabled=\"formSaving\"\n        append-outer-icon=\"mdi-help-circle\"\n        @click:append-outer=\"showHelpDialog('url')\"\n    ></v-text-field>\n\n    <v-select\n        v-model=\"item.ssh_key_id\"\n        label=\"Access Key\"\n        append-outer-icon=\"mdi-help-circle\"\n        :items=\"keys\"\n        item-value=\"id\"\n        item-text=\"name\"\n        :rules=\"[v => !!v || 'Key is required']\"\n        required\n        :disabled=\"formSaving\"\n        @click:append-outer=\"showHelpDialog('key')\"\n    ></v-select>\n\n    <v-dialog\n        v-model=\"helpDialog\"\n        hide-overlay\n        width=\"300\"\n    >\n      <v-alert\n          border=\"top\"\n          colored-border\n          type=\"info\"\n          elevation=\"2\"\n          class=\"mb-0\"\n      >\n        <div v-if=\"helpKey === 'url'\">\n          <p>\n            Address of the repository with your Ansible playbooks. It can be:\n          </p>\n          <ul>\n            <li>Git URL <code>git://</code></li>\n            <li>SSH URL <code>ssh://</code></li>\n            <li>HTTPS URL <code>https://</code></li>\n            <li>file URL <code>file://</code></li>\n          </ul>\n        </div>\n        <div v-else-if=\"helpKey === 'key'\">\n          <p>Credentials to access to the Git repository. It should be:</p>\n          <ul>\n            <li><code>SSH</code> if you use Git or SSH URL.</li>\n            <li><code>None</code> if you use HTTPS or file URL.</li>\n          </ul>\n        </div>\n      </v-alert>\n    </v-dialog>\n  </v-form>\n</template>\n<script>\nimport ItemFormBase from '@/components/ItemFormBase';\nimport axios from 'axios';\n\nexport default {\n  mixins: [ItemFormBase],\n  data() {\n    return {\n      helpDialog: null,\n      helpKey: null,\n\n      keys: null,\n      inventoryTypes: [{\n        id: 'static',\n        name: 'Static',\n      }, {\n        id: 'file',\n        name: 'File',\n      }],\n    };\n  },\n  async created() {\n    this.keys = (await axios({\n      keys: 'get',\n      url: `/api/project/${this.projectId}/keys`,\n      responseType: 'json',\n    })).data;\n  },\n  methods: {\n    showHelpDialog(key) {\n      this.helpKey = key;\n      this.helpDialog = true;\n    },\n\n    getItemsUrl() {\n      return `/api/project/${this.projectId}/repositories`;\n    },\n\n    getSingleItemUrl() {\n      return `/api/project/${this.projectId}/repositories/${this.itemId}`;\n    },\n  },\n};\n</script>\n"]}]}